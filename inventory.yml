all:
  vars:
    ansible_python_interpreter: /usr/bin/python3

  children:
    web:
      hosts:
        nginx:
          ansible_host: 98.83.117.213
          ansible_user: ubuntu
          ansible_ssh_private_key_file: /home/vk/Downloads/web-server-nginx.pem
          ansible_ssh_common_args: "-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"

    app:
      hosts:
        app-server:
          ansible_host: 10.0.2.5
          ansible_user: ubuntu
          ansible_ssh_private_key_file: /home/vk/Downloads/secure-dir/private-key-for-app-server
          ansible_ssh_common_args: "-o ProxyCommand='ssh -W %h:%p -q -i /home/vk/Downloads/web-server-nginx.pem ubuntu@98.83.117.213' -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"

    db:
      hosts:
        mysql-server:
          ansible_host: 10.0.3.83
          ansible_user: ubuntu
          ansible_ssh_private_key_file: /home/vk/Downloads/secure-dir/private-key-for-database-server
          ansible_ssh_common_args: "-o ProxyCommand='ssh -W %h:%p -q -i /home/vk/Downloads/web-server-nginx.pem ubuntu@98.83.117.213' -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"

